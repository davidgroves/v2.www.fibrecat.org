---
import BaseLayout from '../layouts/BaseLayout.astro';

interface Presentation {
  title: string;
  summary: string;
  date: string;
  venue: string;
  venueLink: string;
  slidesLink: string;
}

const presentations: Presentation[] = [
  {
    title: "Do you have the time?",
    summary: "An introduction to NTP and PTP for time sync in datacentres.",
    date: "2025-03-13",
    venue: "NetLDN",
    venueLink: "https://www.netldn.uk/",
    slidesLink: "https://time.slides.fibrecat.org/"
  }
];

// Sort by date descending
presentations.sort((a, b) => new Date(b.date).valueOf() - new Date(a.date).valueOf());
---

<BaseLayout title="Presentations" description="Conference talks and technical presentations.">
  <div class="container mx-auto px-4 py-12">
    <h1 class="text-4xl font-bold mb-4">Presentations</h1>
    <p class="text-base-content/70 mb-8">
      Conference talks and technical presentations I've given at various events.
    </p>

    {presentations.length === 0 ? (
      <div class="alert alert-info">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
        <span>No presentations yet. Check back soon!</span>
      </div>
    ) : (
      <div class="overflow-x-auto">
        <table class="table table-zebra w-full">
          <thead>
            <tr>
              <th>Presentation</th>
              <th>Summary</th>
              <th>Date</th>
              <th>Venue</th>
            </tr>
          </thead>
          <tbody>
            {presentations.map((pres) => (
              <tr class="hover">
                <td>
                  <a 
                    href={pres.slidesLink} 
                    target="_blank" 
                    rel="noopener noreferrer"
                    class="link link-primary font-medium flex items-center gap-2"
                  >
                    {pres.title}
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                    </svg>
                  </a>
                </td>
                <td class="text-base-content/70">{pres.summary}</td>
                <td class="whitespace-nowrap">
                  {new Date(pres.date).toLocaleDateString('en-GB', {
                    year: 'numeric',
                    month: 'short',
                    day: 'numeric'
                  })}
                </td>
                <td>
                  <a 
                    href={pres.venueLink} 
                    target="_blank" 
                    rel="noopener noreferrer"
                    class="link link-hover link-secondary"
                  >
                    {pres.venue}
                  </a>
                </td>
              </tr>
            ))}
          </tbody>
        </table>
      </div>
    )}
  </div>
</BaseLayout>
